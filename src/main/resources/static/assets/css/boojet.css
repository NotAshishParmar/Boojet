:root { --gap:12px; --pad:8px; --radius:8px; --line:#e5e7eb; }

*{ box-sizing:border-box }


/* ================= Forms & Controls ================= */
form{
  display:grid;
  gap:12px;
  grid-template-columns:repeat(6,minmax(140px,1fr));
  align-items:end;
  margin:12px 0;
}
form label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:14px;
}
input,select,button{
  height:38px;
  padding:0 var(--pad);
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:#fff;
}
button{ cursor:pointer }
.actions{ grid-column:span 2; display:flex; gap:var(--gap); align-items:center }
.muted{ color:#666 }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap }

/* Button affordances */
button:hover { background:#f7f7f7; }
button:active { transform: translateY(1px); }
button[disabled] { opacity:.55; cursor:not-allowed; }

/* Optional tiny chips */
.chip{
  display:inline-block;
  padding:2px 8px;
  border:1px solid var(--line);
  border-radius:999px;
  font-size:12px;
  background:#fff;
}

/* ================= Tables ================= */
table{ width:100%; border-collapse:collapse; margin-top:8px }
thead th{
  font-weight:600;
  border-bottom:2px solid var(--line);
  text-align:left;
  padding:10px var(--pad);
}
td{
  border-bottom:1px solid var(--line);
  padding:10px var(--pad);
  vertical-align:middle;
}
.right{ text-align:right }
td button{ height:30px; padding:0 10px }

/* table utilities */
.table-compact td, .table-compact th { padding: 6px 8px; }
.num { text-align:right; font-variant-numeric: tabular-nums; }
.sticky thead th { position: sticky; top: 0; background:#fff; z-index:4; }

/* zebra striping (donâ€™t apply to summary table) */
table:not(.sum-table) tbody tr:nth-child(odd) td { background:#fafafa; }

/* Row tints for positive/negative (exclude summary table) */
table:not(.sum-table) tbody tr.ok td  { color:#0a7f42; background: rgba(10,127,66,.06); }
table:not(.sum-table) tbody tr.bad td { color:#b00020; background: rgba(176,0,32,.06); }

/* generic text colors */
.ok{ color:#0a7f42 }
.bad{ color:#b00020 }

/* ================= Sections ================= */
.section { margin-top: 24px; padding-top: 8px; border-top: 1px solid var(--line); }
.empty { padding: 10px; color:#666; font-style: italic; }

/* ================= Panels (Monthly Net + Summary) ================= */
.grid-2{
  display:grid;
  grid-template-columns: 1.35fr 1fr;
  gap:20px;
  align-items: start;
}
@media (max-width: 980px){
  .grid-2{ grid-template-columns: 1fr; }
}

.panel{
  background:#fff;
  border:1px solid #e9e9e9;
  border-radius:14px;
  padding:14px 14px 12px;
  box-shadow:0 1px 2px rgba(0,0,0,0.04);
  height:auto;
}

.panel-header{
  display:flex;
  justify-content:space-between;
  align-items:end;
  gap:12px;
  margin-bottom:12px;
}

.panel-title{
  margin:0;
  font-size:22px;
  line-height:1.1;
}
.panel-sub{
  margin-top:4px;
  font-size:13px;
  color:#6b7280;
}

#atbl, #ptbl{
  display:block;
  max-height: 260px;
  overflow:auto;
}
#atbl thead, #ptbl thead, 
#atbl tbody tr, #ptbl tbody tr{
  display: table;
  width: 100%;
  table-layout: fixed;
}


/* Header action button */
.btn-sm{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid #e5e7eb;
  background:#f9fafb;
}
.btn-sm:hover{ background:#f3f4f6; }

/* ================= Monthly Net cards (boxy + wraps) ================= */
.cards{ display:grid; gap:12px; }

/* This is the key: boxy cards that wrap into rows (top-to-bottom feel) */
.cards-wrap{
  grid-template-columns: repeat(2, minmax(0, 1fr)); /* 2 columns = cleaner wrap */
  align-content:start;
}
@media (max-width: 520px){
  .cards-wrap{ grid-template-columns: 1fr; }
}

.card{
  border:1px solid #ededed;
  border-radius:12px;
  padding:12px 14px;
  background:#fafafa;
}
.card .label{
  font-size:12px;
  color:#6b7280;
}
.card .value{
  margin-top:6px;
  font-size:20px;
  font-weight:750;
  white-space:nowrap;     /* prevents spill */
  overflow:hidden;
  text-overflow:ellipsis; /* just in case */
  font-variant-numeric: tabular-nums;
}

/* ===== Autocomplete dropdown ===== */
.ac-wrap {
  position: relative;
}

.ac-menu {
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  z-index: 50;

  background: #fff;
  border: 1px solid rgba(0,0,0,.15);
  border-radius: 10px;
  box-shadow: 0 8px 24px rgba(0,0,0,.12);

  max-height: 240px;
  overflow: auto;
  padding: 6px;
}

.ac-item {
  padding: 10px 10px;
  border-radius: 8px;
  cursor: pointer;
  user-select: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ac-item:hover,
.ac-item.active {
  background: rgba(0,0,0,.06);
}

.ac-empty {
  padding: 10px;
  color: rgba(0,0,0,.55);
  font-size: 0.95em;
}

/* ================= Summary table ================= */
.sum-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  border-radius:12px;
  border:1px solid #ededed;
  overflow:hidden;
}
.sum-table thead th{
  background:#f9fafb;
  font-weight:700;
}
.sum-table th, .sum-table td{
  padding:10px 12px;
  border-bottom:1px solid #eee;
}
.sum-table tbody tr:last-child td{ border-bottom:none; }

/* Amount-only coloring (no row tint) */
.sum-amt{
  font-variant-numeric: tabular-nums;
  font-weight:700;
}
.sum-amt.ok{ color:#0f766e; }
.sum-amt.bad{ color:#b91c1c; }

/* ================= Responsive ================= */
@media (max-width: 900px){
  form{ grid-template-columns:repeat(2,minmax(140px,1fr)); }
  .actions{ grid-column:span 2; }
}
@media (max-width: 520px){
  form{ grid-template-columns:1fr; }
  .actions{ grid-column:1/-1; }
}

/* ================= App Shell Layout (Left / Right) ================= */

body{
  margin: 18px;
  background: #f8fafc; /* subtle app background */
}

.container{
  max-width: 1440px;
  margin: auto;
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  margin-bottom: 14px;
}

.brand{
  margin: 0;
  font-size: 28px;
  letter-spacing: -0.3px;
}

.topbar-actions{
  display:flex;
  align-items:center;
  gap: 10px;
}

.left .side-table{
  display: none;
}

.side-list{
  display: grid;
  gap: 12px;
  margin-top: 12px;
}

.side-item{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px 12px;
  padding: 12px;
  border: 1px solid #ededed;
  border-radius: 12px;
  background: #fff;
}

.side-title{ font-weight: 700; }
.side-sub{ margin-top: 6px; display:flex; gap: 6px; flex-wrap: wrap; }

.side-meta{
  font-weight: 800;
  font-variant-numeric: tabular-nums;
  align-self: start;
}

.side-actions{
  grid-column: 1 / -1;
  display:flex;
  justify-content:flex-end;
}

.side-btn{
  height: 34px;
  padding: 0 12px;
  border-radius: 10px;
}
.side-btn:hover{ background:#f3f4f6; }

/* Make long names wrap nicely */
.side-title,
.side-sub{
  overflow-wrap: anywhere;
}

/* The two-column app */
.app-shell{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap: 16px;
  align-items: start;
}

/* Card-like blocks for both sides */
.block{
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
  padding: 14px;
}

.block + .block{ margin-top: 14px; }

.block-head{
  display:flex;
  align-items: end;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.block h2{
  margin: 0;
  font-size: 20px;
}

.left{
  position: static;
  max-height: none;
  overflow: visible;
  padding-right: 0;
}

/* Right side is the workspace */
.right{
  min-width: 0; /* allows table to shrink properly */
}

.block-sticky{
  position: static;
}

.table-block{
  max-height: none;
  overflow: visible;
}

.table-block table{
  margin-top: 0;
}

.table-block .table-compact th,
.table-block .table-compact td{
  padding: 8px 10px;
}

#tbl.sticky thead th{
  top: 0;
}

.left .block{
  padding: 16px;
}

.left input,
.left select,
.left button{
  height: 42px;              /* more tappable */
  border-radius: 10px;
}

.left form label{
  font-size: 13px;
}

.left table td button{
  height: 32px;
}

/* Tighten forms inside left column */
.left form{
  grid-template-columns: 1fr;   /* easier to read + tap */
}
.left .actions{
  grid-column: 1 / -1;
}


/* Keep transactions form more spacious */
.right form{
  grid-template-columns: repeat(6, minmax(140px, 1fr));
}

/* Filters row spacing refinement */
.right .row{
  gap: 10px;
}

/* ================= Responsive ================= */
@media (max-width: 1100px){
  .app-shell{
    grid-template-columns: 1fr;
  }
  .left{
    position: static;
    max-height: none;
    overflow: visible;
    padding-right: 0;
  }
  .block-sticky{
    position: static;
  }
  .table-block{
    max-height: none;
  }
}
