/* =========================================================
   Boojet CSS
   ========================================================= */

/* ================= Tokens / Reset ================= */
:root{
  --gap:12px;
  --pad:8px;
  --radius:8px;
  --line:#e5e7eb;

  --bg:#f8fafc;
  --text-muted:#666;
}

*{ box-sizing:border-box; }

/* ================= Base / Global ================= */
body{
  margin:18px;
  background:var(--bg);
}

.container{
  max-width:1440px;
  margin:auto;
}

/* ================= Utilities ================= */
.muted{ color:var(--text-muted); }
.row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
.right{ text-align:right; }

.ok{ color:#0a7f42; }
.bad{ color:#b00020; }

.num{ text-align:right; font-variant-numeric: tabular-nums; }
.empty{ padding:10px; color:#666; font-style:italic; }
.section{ margin-top:24px; padding-top:8px; border-top:1px solid var(--line); }

/* ================= Inputs / Buttons ================= */
input,select,button{
  height:38px;
  padding:0 var(--pad);
  border:1px solid var(--line);
  border-radius:var(--radius);
  background:#fff;
}

button{ cursor:pointer; }
button:hover{ background:#f7f7f7; }
button:active{ transform:translateY(1px); }
button[disabled]{ opacity:.55; cursor:not-allowed; }

.btn-primary{
  background:#111827;
  border-color:#111827;
  color:#fff;
  height:38px;
  padding:0 12px;
  border-radius:10px;
}
.btn-primary:hover{ background:#0b1220; }

.btn-ghost{
  background:#fff;
  border-color:var(--line);
  height:38px;
  padding:0 12px;
  border-radius:10px;
}
.btn-ghost:hover{ background:#f3f4f6; }

.btn-sm{
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--line);
  background:#f9fafb;
}
.btn-sm:hover{ background:#f3f4f6; }

/* little pill */
.chip{
  display:inline-block;
  padding:2px 8px;
  border:1px solid var(--line);
  border-radius:999px;
  font-size:12px;
  background:#fff;
}

/* ================= Forms ================= */
form{
  display:grid;
  gap:12px;
  grid-template-columns:repeat(6, minmax(140px,1fr));
  align-items:end;
  margin:12px 0;
}

form label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:14px;
}

.actions{
  grid-column:span 2;
  display:flex;
  gap:var(--gap);
  align-items:center;
}

/* Right side: only apply 6-col grid to forms that are NOT tx-form */
.right form:not(.tx-form){
  grid-template-columns: repeat(6, minmax(140px, 1fr));
}

/* ================= Tables ================= */
table{ width:100%; border-collapse:collapse; margin-top:8px; }

thead th{
  font-weight:600;
  border-bottom:2px solid var(--line);
  text-align:left;
  padding:10px var(--pad);
}

td{
  border-bottom:1px solid var(--line);
  padding:10px var(--pad);
  vertical-align:middle;
}

td button{ height:30px; padding:0 10px; }

.table-compact td, .table-compact th{ padding:6px 8px; }

.sticky thead th{
  position:sticky;
  top:0;
  background:#fff;
  z-index:4;
}

/* zebra striping (donâ€™t apply to summary table) */
table:not(.sum-table) tbody tr:nth-child(odd) td{ background:#fafafa; }

/* Row tints for positive/negative (exclude summary table) */
table:not(.sum-table) tbody tr.ok td{
  color:#0a7f42;
  background:rgba(10,127,66,.06);
}
table:not(.sum-table) tbody tr.bad td{
  color:#b00020;
  background:rgba(176,0,32,.06);
}

/* ================= Topbar ================= */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:14px;
}

.brand{
  margin:0;
  font-size:28px;
  letter-spacing:-0.3px;
}

.topbar-actions{
  display:flex;
  align-items:center;
  gap:10px;
}

/* ================= Layout / Blocks ================= */
.app-shell{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:16px;
  align-items:start;
}

.block{
  background:#fff;
  border:1px solid #e9e9e9;
  border-radius:14px;
  box-shadow:0 1px 2px rgba(0,0,0,0.04);
  padding:14px;
}

.block + .block{ margin-top:14px; }

.block-head{
  display:flex;
  align-items:end;
  justify-content:space-between;
  gap:12px;
  margin-bottom:10px;
}

.block h2{
  margin:0;
  font-size:20px;
}

/* left column */
.left{
  position:static;
  max-height:none;
  overflow:visible;
  padding-right:0;
}

.left .block{ padding:16px; }

/* right column */
.right{ min-width:0; }

/* ================= Left: Account/Plan lists ================= */
.left .side-table{ display:none; }

.block-actions{
  display:flex;
  align-items:baseline;
  gap:10px;
}

.big-money{
  font-weight:800;
  font-variant-numeric: tabular-nums;
}

.side-list{ display:grid; gap:10px; margin-top:10px; }

.side-item{
  display:grid;
  grid-template-columns: 1fr auto;
  gap:8px 12px;
  padding:12px;
  border:1px solid #eee;
  border-radius:12px;
  background:#fafafa;
}

.side-title{ font-weight:750; line-height:1.15; }
.side-sub{
  margin-top:6px;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  overflow-wrap:anywhere;
}

.side-meta{
  font-weight:800;
  font-variant-numeric: tabular-nums;
  text-align:right;
  white-space:nowrap;
}

.side-actions{
  grid-column:1 / -1;
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

.side-btn{
  height:34px;
  padding:0 12px;
  border-radius:10px;
}
.side-btn:hover{ background:#f3f4f6; }

.side-btn.danger{ border-color:#f3c2c2; }
.side-btn.danger:hover{ background:#fff5f5; }

/* Left column: make controls taller */
.left input, .left select, .left button{
  height:42px;
  border-radius:10px;
}
.left form{ grid-template-columns:1fr; }
.left .actions{ grid-column:1 / -1; }
.left form label{ font-size:13px; }

/* ================= Collapsible (details/summary) ================= */
details.collapse{ margin-top:12px; }

details.collapse > summary{
  cursor:pointer;
  user-select:none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:10px 12px;
  border:1px dashed var(--line);
  border-radius:12px;
  background:#fff;
}

details.collapse[open] > summary{ margin-bottom:12px; }

/* remove default marker */
details.collapse > summary::-webkit-details-marker{ display:none; }
details.collapse > summary::marker{ content:""; }

/* ================= Autocomplete ================= */
.ac-wrap{ position:relative; }

.ac-menu{
  position:absolute;
  top:calc(100% + 6px);
  left:0;
  right:0;
  z-index:50;

  background:#fff;
  border:1px solid rgba(0,0,0,.15);
  border-radius:10px;
  box-shadow:0 8px 24px rgba(0,0,0,.12);

  max-height:240px;
  overflow:auto;
  padding:6px;
}

.ac-item{
  padding:10px;
  border-radius:8px;
  cursor:pointer;
  user-select:none;
  display:flex;
  align-items:center;
  gap:8px;
}
.ac-item:hover, .ac-item.active{ background:rgba(0,0,0,.06); }

.ac-empty{
  padding:10px;
  color:rgba(0,0,0,.55);
  font-size:.95em;
}

/* ================= Panels (Monthly Net + Summary) ================= */
.grid-2{
  display:grid;
  grid-template-columns: 1.35fr 1fr;
  gap:20px;
  align-items:start;
}

.panel{
  background:#fff;
  border:1px solid #e9e9e9;
  border-radius:14px;
  padding:14px 14px 12px;
  box-shadow:0 1px 2px rgba(0,0,0,0.04);
}

.panel-header{
  display:flex;
  justify-content:space-between;
  align-items:end;
  gap:12px;
  margin-bottom:12px;
}

.panel-title{ margin:0; font-size:22px; line-height:1.1; }
.panel-sub{ margin-top:4px; font-size:13px; color:#6b7280; }

/* Cards */
.cards{ display:grid; gap:12px; }
.cards-wrap{
  grid-template-columns: repeat(2, minmax(0,1fr));
  align-content:start;
}

.card{
  border:1px solid #ededed;
  border-radius:12px;
  padding:12px 14px;
  background:#fafafa;
}
.card .label{ font-size:12px; color:#6b7280; }
.card .value{
  margin-top:6px;
  font-size:20px;
  font-weight:750;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  font-variant-numeric: tabular-nums;
}

/* Summary table (no zebra tint) */
.sum-table{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  border-radius:12px;
  border:1px solid #ededed;
  overflow:hidden;
}

.sum-table thead th{
  background:#f9fafb;
  font-weight:700;
}

.sum-table th, .sum-table td{
  padding:10px 12px;
  border-bottom:1px solid #eee;
}
.sum-table tbody tr:last-child td{ border-bottom:none; }

.sum-amt{
  font-variant-numeric: tabular-nums;
  font-weight:700;
}
.sum-amt.ok{ color:#0f766e; }
.sum-amt.bad{ color:#b91c1c; }

/* ================= Transactions ================= */

/* --- TX Create (clean + consistent) --- */
details.collapse.tx-create{
  margin-top:0;
  border:1px dashed var(--line);
  border-radius:12px;
  background:#fff;
  padding:10px 12px;
}

details.collapse.tx-create > summary{
  padding:0;
  border:0;
  background:transparent;
  font-weight:750;
}

details.collapse.tx-create[open]{
  border-style:solid;
  background:#f9fafb;
}

details.collapse.tx-create[open] > summary{
  margin-bottom:10px;
}

details.collapse.tx-create .plus{
  font-weight:900;
  font-size:18px;
  line-height:1;
  opacity:.65;
  transition: transform .15s ease, opacity .15s ease;
}
details.collapse.tx-create[open] .plus{
  transform: rotate(45deg);
  opacity:.9;
}

/* TX form layout */
.right form.tx-form{
  margin:0;
  gap:10px;
  grid-template-columns: repeat(3, minmax(160px,1fr));
  align-items:end;
}

/* Put actions in last column to avoid floating */
.tx-actions{
  grid-column: -2 / -1;
  display:flex;
  justify-content:flex-end;
  gap:10px;
}

/* --- Ledger table card --- */
.table-block{ padding:0; overflow:hidden; }
.table-block table{ margin-top:0; }

/* Ledger toolbar */
.ledger-toolbar{
  position:sticky;
  top:0;
  z-index:6;

  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;

  padding:10px 12px;
  border-bottom:1px solid var(--line);
  background:#fff;

  border-top-left-radius:14px;
  border-top-right-radius:14px;
}

.ledger-filters{
  display:flex;
  align-items:flex-end;
  gap:12px;
  flex-wrap: nowrap;
  min-width:0;
  flex:1;
}

.ledger-filters label{ margin:0; }

.ledger-filters input,
.ledger-filters select{ height:36px; }

.ledger-filters .btn-primary,
.ledger-filters .btn-ghost{
  height:36px;
  white-space:nowrap;
}

.ledger-pager{
  display:flex;
  align-items:center;
  gap:10px;
  white-space:nowrap;
  flex-shrink:0;
}

.ledger-scroll{
  max-height: calc(100vh - 330px);
  overflow:auto;
  border-bottom-left-radius:14px;
  border-bottom-right-radius:14px;
}

/* Keep sticky table header inside scroll */
#tbl.sticky thead th{
  position: sticky;
  top: 0;
  z-index: 5;
  background:#fff;
}

/* ================= Responsive ================= */
@media (max-width: 980px){
  .grid-2{ grid-template-columns:1fr; }
}

@media (max-width: 900px){
  form{ grid-template-columns:repeat(2, minmax(140px,1fr)); }
  .actions{ grid-column:span 2; }
}

@media (max-width: 600px){
  .right form.tx-form{ grid-template-columns:1fr; }
  .tx-actions{ grid-column:1 / -1; }
}

@media (max-width: 520px){
  form{ grid-template-columns:1fr; }
  .actions{ grid-column:1 / -1; }
  .cards-wrap{ grid-template-columns:1fr; }
}

/* Two-column app collapses to one */
@media (max-width: 1100px){
  .app-shell{ grid-template-columns:1fr; }
}

/* Ledger toolbar wraps only on true mobile */
@media (max-width: 820px){
  .ledger-toolbar{ flex-direction:column; align-items:stretch; }
  .ledger-filters{ flex-wrap:wrap; }
  .ledger-pager{ justify-content:space-between; }
}
